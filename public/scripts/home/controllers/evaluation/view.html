<!-- Include the JS ReCaptcha API -->
<script src="//www.google.com/recaptcha/api.js?render=explicit&onload=vcRecaptchaApiLoaded" async defer></script>
<div class="g-recaptcha" data-sitekey="6LdIX1YUAAAAALss08Pr8P4pV-sjAY-B2sTSWLL1"></div>

<!-- Include the ngReCaptcha directive -->
<script src="bower_components/angular-recaptcha/release/angular-recaptcha.js"></script>

<link rel="stylesheet" href="css/adhoc.css">

<div class="home full new-home">

  <div class="fadeIn fadeInRight container">

    <br>
    <h4>[[establecimiento]]</h4>
    <p><b>Califica el lugar:</b> </p>
    <p>Los campos con * son obligatorios.</p>

    <form>
      <!-- start-block -->
      <div class="block">

        <p class="blockTitle"> <div mi-service></div></p>

        <p class="blockContent">

          <select class="blockContent browser-default right-alert" ng-model="selectedService" ng-change="selectedServiceChange()" id="serviceselectbox">
            <option value="" default selected translate="evaluation_selectservice_optionlabel"></option>
            <option ng-repeat="service in services" ng-value="[[service.id]]">
              [[service.name]]
            </option>
          </select>

        </p>

      </div>

      <div id="evaluation" class="evaluation"></div> 
      <!-- start-block comments-->
      <div class="block">

        <div>
          <p class="blockTitle">Comentarios <span ng-if="comment.Comment.body.length > 500" style="color: #e6334c;">Máximo alcanzado</span>  </p>
        </div>

        <textarea
        ng-model="respuestas.comments"
        name="comment[Comment][body]"
        maxlength="500"
        ng-change=""
        id="comments"
        type="text"
        placeholder="Máximo de 500 caracteres"
        class="blockContentComment required">
      </textarea>

    </div>

    <!-- start-block Calification -->
    <div class="block"> 

      <p class="blockTitle">¿Como calificarías el lugar?*</p>
      <div class="blockContent">
        <a style="cursor:pointer;" ng-repeat="icon in iconList" ng-click="setVote(icon.id)"><img src="images/emojis/[[icon.image]].png" alt="[[icon.image]]"></a>
      </div>

    </div>
    <!-- start-block buttons -->
    <div class="block">

      <div
      vc-recaptcha
      theme="'light'"
      key="model.key"
      on-create="setWidgetId(widgetId)"
      on-success="setResponse(response)"
      on-expire="cbExpiration()"
      ></div>

    </div>

    <!-- start-block buttons -->
    <div class="block"> 

      <div class="blockButtons">

        <div class="col s7" style="padding-left: 0px !important; padding-right: 0px !important;">
          <button ng-disabled="!validForm" ng-click="clicky(evaluation)"  class="waves-effect waves-light btn blockSender" translate="send">Enviar</button>
        </div>
        <div class="col s5">
          <a href="javascript:history.back()" class="waves-effect waves-light btn blockSender" style="background-color: #9F9F9F;"  translate="cancel">Cancelar</a>

        </div>

      </div>

    </div>

  </form>
    
  </div>

</div>

<div class="row home-footer-wrapper">

    <footer class="result-service-footer">

        <p translate="footer_text"></p>

    </footer>

</div>
